---
name: quant-integration
description: |
  qteasyä¸é‡åŒ–ç³»ç»Ÿé›†æˆSkill
  
  æ ¸å¿ƒåŠŸèƒ½:
  1. å¿«é€Ÿç­–ç•¥éªŒè¯ - ä½¿ç”¨qteasyå‘é‡åŒ–å›æµ‹å¿«é€Ÿç­›é€‰ç­–ç•¥æƒ³æ³•
  2. ç»å…¸ç­–ç•¥åŸºå‡† - å¯¹æ¯”æˆ‘ä»¬çš„AIç­–ç•¥ä¸100+ç»å…¸æŠ€æœ¯æŒ‡æ ‡ç­–ç•¥
  3. ç»„åˆä¼˜åŒ–å¯¹æ¯” - é©¬ç§‘ç»´èŒ¨ç­‰ç»å…¸æ–¹æ³•ä¸æˆ‘ä»¬è¿›åŒ–ç®—æ³•çš„å¯¹æ¯”
  4. å®ç›˜äº¤æ˜“æ‰§è¡Œ - æ¥å…¥åˆ¸å•†APIæ‰§è¡Œäº¤æ˜“ï¼ˆå¼¥è¡¥æˆ‘ä»¬ç³»ç»Ÿæœ€å¤§çŸ­æ¿ï¼‰
  
  é›†æˆæ¶æ„:
  - ä¸Šå±‚: æˆ‘ä»¬çš„æ ¸å¿ƒç³»ç»Ÿï¼ˆæ•°æ®/å› å­/WFOå›æµ‹/æ¨¡æ‹Ÿç›˜ï¼‰
  - ä¸‹å±‚: qteasyè¡¥å……å±‚ï¼ˆå¿«é€ŸéªŒè¯/åŸºå‡†å¯¹æ¯”/å®ç›˜æ‰§è¡Œï¼‰
  
  ä½¿ç”¨æ–¹æ³•:
  from skills.quant_integration.scripts.qteasy_wrapper import FastBacktest, LiveTrader, Benchmark
  
  å®‰è£…è¦æ±‚:
  - qteasyéœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…ï¼ˆä¸ç³»ç»ŸåŒ…éš”ç¦»ï¼‰
  - pip install qteasy

# qteasyé‡åŒ–ç³»ç»Ÿé›†æˆ Skill v1.0

## ğŸ¯ æ ¸å¿ƒä»·å€¼

**å¼¥è¡¥æˆ‘ä»¬é‡åŒ–ç³»ç»Ÿçš„ä¸‰å¤§çŸ­æ¿**:
1. âŒ **å®ç›˜äº¤æ˜“** â†’ âœ… qteasyæä¾›åˆ¸å•†æ¥å£
2. âŒ **å¿«é€ŸéªŒè¯** â†’ âœ… qteasyå‘é‡åŒ–å›æµ‹ï¼ˆvs æˆ‘ä»¬çš„WFOæ…¢é€Ÿç²¾ç¡®å›æµ‹ï¼‰
3. âŒ **ç»å…¸åŸºå‡†** â†’ âœ… qteasy100+æŠ€æœ¯æŒ‡æ ‡ç­–ç•¥å¯¹æ¯”

## ğŸ“ é›†æˆæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç­–ç•¥ç ”å‘å±‚ï¼ˆæˆ‘ä»¬çš„æ ¸å¿ƒç³»ç»Ÿï¼‰- ä¿ç•™å¹¶å¼ºåŒ–                  â”‚
â”‚  â”œâ”€â”€ Data: Tushare/Akshare â†’ parquetï¼ˆå·²æœ‰ï¼‰            â”‚
â”‚  â”œâ”€â”€ Factors: 26å› å­ + æœºå™¨å­¦ä¹ ï¼ˆå·²æœ‰ï¼‰                  â”‚
â”‚  â”œâ”€â”€ Strategy: æ™ºèƒ½ä¼˜åŒ–å™¨ + WFOå›æµ‹ï¼ˆå·²æœ‰ï¼‰              â”‚
â”‚  â””â”€â”€ Portfolio: æ¨¡æ‹Ÿç›˜è·Ÿè¸ªï¼ˆå·²æœ‰ï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ ä¿¡å·/ç­–ç•¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  qteasyé›†æˆå±‚ï¼ˆæ–°å¢ï¼‰- è¡¥å……åŠŸèƒ½                          â”‚
â”‚  â”œâ”€â”€ FastBacktest: å‘é‡åŒ–å¿«é€ŸéªŒè¯ï¼ˆ5åˆ†é’Ÿ vs 5å°æ—¶ï¼‰      â”‚
â”‚  â”œâ”€â”€ Benchmark: ç»å…¸ç­–ç•¥åŸºå‡†å¯¹æ¯”ï¼ˆè¯æ˜AIä¼˜åŠ¿ï¼‰           â”‚
â”‚  â”œâ”€â”€ PortfolioOpt: é©¬ç§‘ç»´èŒ¨ç­‰ç»å…¸ä¼˜åŒ–ï¼ˆå¯¹æ¯”éªŒè¯ï¼‰        â”‚
â”‚  â””â”€â”€ LiveTrading: å®ç›˜äº¤æ˜“æ‰§è¡Œï¼ˆæœ€å¤§çŸ­æ¿ï¼‰               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ å®‰è£…è¯´æ˜

ç”±äºç³»ç»Ÿç¯å¢ƒé™åˆ¶ï¼Œqteasyéœ€è¦åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…ï¼š

```bash
# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python3 -m venv /root/.openclaw/workspace/.venv/qteasy

# 2. æ¿€æ´»ç¯å¢ƒ
source /root/.openclaw/workspace/.venv/qteasy/bin/activate

# 3. å®‰è£…qteasy
pip install qteasy

# 4. éªŒè¯å®‰è£…
python -c "import qteasy; print(qteasy.__version__)"
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### åœºæ™¯1: å¿«é€Ÿç­–ç•¥éªŒè¯ï¼ˆ5åˆ†é’Ÿå®Œæˆï¼‰

```python
from skills.quant_integration.scripts.qteasy_wrapper import FastBacktest

# åˆå§‹åŒ–
fb = FastBacktest()

# å¿«é€Ÿæµ‹è¯•åŒå‡çº¿ç­–ç•¥
result = fb.test_strategy(
    symbols=['000001.SZ', '000002.SZ', '600519.SH'],
    strategy='SMA',      # ç®€å•ç§»åŠ¨å¹³å‡
    params=(20, 60),     # 20æ—¥ä¸Šç©¿60æ—¥ä¹°å…¥
    start='20240101',
    end='20241231'
)

print(f"æ€»æ”¶ç›Š: {result['total_return']:.2%}")
print(f"å¤æ™®æ¯”ç‡: {result['sharpe']:.2f}")
print(f"æœ€å¤§å›æ’¤: {result['max_drawdown']:.2%}")
```

**vs æˆ‘ä»¬çš„WFOå›æµ‹**:
- qteasy: 5åˆ†é’Ÿï¼Œå¿«é€Ÿç­›é€‰
- æˆ‘ä»¬çš„WFO: 5å°æ—¶ï¼Œç²¾ç¡®éªŒè¯
- **æœ€ä½³å®è·µ**: qteasyå¿«é€Ÿç­›é€‰ â†’ æˆ‘ä»¬çš„WFOæ·±åº¦éªŒè¯

### åœºæ™¯2: æ‰¹é‡æµ‹è¯•æ‰¾æœ€ä¼˜å‚æ•°

```python
# æ‰¹é‡æµ‹è¯•å¤šä¸ªç­–ç•¥
strategies = [
    {'name': 'SMA', 'params': (5, 20)},
    {'name': 'SMA', 'params': (20, 60)},
    {'name': 'EMA', 'params': (12, 26)},
    {'name': 'MACD', 'params': (12, 26, 9)},
    {'name': 'RSI', 'params': (14,)},
]

results = fb.batch_test(
    symbols=['000001.SZ'],
    strategies=strategies,
    start='20240101',
    end='20241231'
)

# ç»“æœå·²æŒ‰æ”¶ç›Šç‡æ’åº
for r in results[:3]:
    print(f"{r['strategy']}{r['params']}: {r['total_return']:.2%}")
```

### åœºæ™¯3: ç»å…¸ç­–ç•¥åŸºå‡†å¯¹æ¯”

```python
from skills.quant_integration.scripts.qteasy_wrapper import Benchmark

# å¯¹æ¯”æˆ‘ä»¬çš„AIç­–ç•¥ vs ç»å…¸ç­–ç•¥
bm = Benchmark()

# æˆ‘ä»¬çš„ç­–ç•¥ç»“æœï¼ˆä»WFOç³»ç»Ÿå¯¼å…¥ï¼‰
our_result = {
    'strategy': 'AI_Factor_v26',
    'total_return': 0.45,      # 45%æ”¶ç›Š
    'annual_return': 0.50,
    'sharpe': 1.8,
    'max_drawdown': -0.15
}

# å¯¹æ¯”
comparison = bm.compare(
    our_strategy_result=our_result,
    benchmarks=['SMA', 'MACD', 'RSI', 'BOLL'],
    symbols=['000001.SZ', '000002.SZ'],
    period='20240101-20241231'
)

# ç”ŸæˆæŠ¥å‘Š
report = bm.generate_report(comparison)
print(report)
```

**è¾“å‡ºç¤ºä¾‹**:
```
æˆ‘ä»¬çš„AIç­–ç•¥: +45%
vs SMA(20,60): +12%  (è¶…é¢+33%)
vs MACD: +8%       (è¶…é¢+37%)
vs RSI: +5%        (è¶…é¢+40%)
â†’ è¯æ˜AIç­–ç•¥ç¡®å®æœ‰è¶…é¢æ”¶ç›Š
```

### åœºæ™¯4: å®ç›˜äº¤æ˜“æ‰§è¡Œ

```python
from skills.quant_integration.scripts.qteasy_wrapper import LiveTrader

# åˆå§‹åŒ–å®ç›˜äº¤æ˜“å™¨
trader = LiveTrader(
    broker='ths',  # åŒèŠ±é¡º
    account='your_account_number'
)

# é…ç½®ï¼ˆå®é™…è´¦å·å¯†ç ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰
trader.setup(
    broker='ths',
    account='8888888888',
    password=os.environ.get('BROKER_PASSWORD')
)

# ä»æˆ‘ä»¬ç³»ç»Ÿå¯¼å…¥äº¤æ˜“ä¿¡å·
from skills.quant_data_system.scripts.sim_portfolio import get_signals
signals = get_signals()  # æˆ‘ä»¬çš„ç­–ç•¥ç”Ÿæˆçš„ä¿¡å·

# æ‰§è¡Œäº¤æ˜“ï¼ˆdry_runå…ˆæ¨¡æ‹Ÿï¼‰
results = trader.execute_signals(signals, dry_run=True)

# ç¡®è®¤æ— è¯¯åå®ç›˜æ‰§è¡Œ
# results = trader.execute_signals(signals, dry_run=False)
```

**ä¿¡å·æ ¼å¼**:
```python
signals = [
    {'symbol': '000001.SZ', 'action': 'buy', 'amount': 1000},
    {'symbol': '002843.SZ', 'action': 'sell', 'amount': 500},
]
```

## ğŸ“ æœ€ä½³å®è·µ

### å·¥ä½œæµ1: ç­–ç•¥å¿«é€Ÿè¿­ä»£

```
1. æƒ³æ³• â†’ 2. qteasyå¿«é€ŸéªŒè¯(5åˆ†é’Ÿ) â†’ 3. æ•ˆæœå¥½å—ï¼Ÿ
                                           â†“ No
                                    æ”¾å¼ƒ/ä¿®æ”¹æƒ³æ³•
                                           â†“ Yes
                      4. æˆ‘ä»¬çš„WFOæ·±åº¦éªŒè¯(5å°æ—¶) â†’ 5. ä¸Šçº¿æ¨¡æ‹Ÿç›˜
```

### å·¥ä½œæµ2: å®ç›˜äº¤æ˜“

```
1. æˆ‘ä»¬çš„ç³»ç»Ÿç”Ÿæˆä¿¡å· â†’ 2. é£æ§æ£€æŸ¥ â†’ 3. qteasyæ‰§è¡Œäº¤æ˜“
                                                      â†“
                                           4. è®°å½•äº¤æ˜“ â†’ 5. è·Ÿè¸ªæ”¶ç›Š
```

### å·¥ä½œæµ3: ç­–ç•¥å®£ä¼ 

```
1. æˆ‘ä»¬çš„AIç­–ç•¥ â†’ 2. qteasyå¯¹æ¯”ç»å…¸ç­–ç•¥ â†’ 3. ç”ŸæˆæŠ¥å‘Š
                                                      â†“
                                  "AIç­–ç•¥è¶…é¢æ”¶ç›Š+40%" â† è¯æ˜ä»·å€¼
```

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | æˆ‘ä»¬ç³»ç»Ÿ | qteasy | é›†æˆæ–¹æ¡ˆ |
|:---|:---|:---|:---|
| **æ•°æ®ç®¡ç†** | æ‰‹åŠ¨parquet | è‡ªåŠ¨ç¼“å­˜ | ç»Ÿä¸€ç”¨æˆ‘ä»¬çš„parquet |
| **å›æµ‹é€Ÿåº¦** | WFOæ…¢ä½†ç²¾ç¡® | å‘é‡åŒ–å¿« | qteasyç­›é€‰+WFOéªŒè¯ |
| **å›æµ‹ç²¾åº¦** | â­â­â­â­â­ | â­â­â­ | WFOç”¨äºæœ€ç»ˆéªŒè¯ |
| **ç­–ç•¥åº“** | è‡ªå®šä¹‰å› å­ | 100+ç»å…¸ç­–ç•¥ | ä¸¤è€…ç»“åˆ |
| **ç»„åˆä¼˜åŒ–** | è¿›åŒ–ç®—æ³• | é©¬ç§‘ç»´èŒ¨ | å¯¹æ¯”ä½¿ç”¨ |
| **å®ç›˜äº¤æ˜“** | âŒ æ—  | âœ… æœ‰ | qteasyæ‰§è¡Œ |
| **é€‚ç”¨åœºæ™¯** | ç”Ÿäº§ç¯å¢ƒ | å¿«é€ŸéªŒè¯ | åˆ†å±‚ä½¿ç”¨ |

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ•°æ®ç»Ÿä¸€**: qteasyé…ç½®ä½¿ç”¨æˆ‘ä»¬çš„parquetæ•°æ®è·¯å¾„ï¼Œé¿å…é‡å¤ä¸‹è½½
2. **ç¯å¢ƒéš”ç¦»**: qteasyå®‰è£…åœ¨è™šæ‹Ÿç¯å¢ƒï¼Œä¸å½±å“ç³»ç»ŸPython
3. **å›æµ‹ç²¾åº¦**: qteasyå¿«é€Ÿå›æµ‹ç”¨äºç­›é€‰ï¼ŒWFOç”¨äºæœ€ç»ˆéªŒè¯
4. **å®ç›˜é£é™©**: å®ç›˜åŠŸèƒ½éœ€å……åˆ†æµ‹è¯•ï¼Œå»ºè®®å…ˆç”¨æ¨¡æ‹Ÿç›˜è·‘1ä¸ªæœˆ
5. **åˆ¸å•†æ¥å£**: éœ€è¦å¼€é€šåˆ¸å•†APIæƒé™ï¼ˆé€šå¸¸éœ€è¦ç”³è¯·ï¼‰

## ğŸ“ æ–‡ä»¶ç»“æ„

```
skills/quant-integration/
â”œâ”€â”€ SKILL.md                          # æœ¬æ–‡ä»¶
â”œâ”€â”€ README.md                         # å®‰è£…å’Œä½¿ç”¨è¯´æ˜
â””â”€â”€ scripts/
    â””â”€â”€ qteasy_wrapper.py             # æ ¸å¿ƒå°è£…ä»£ç 
        â”œâ”€â”€ QteasyWrapper (åŸºç±»)
        â”œâ”€â”€ FastBacktest (å¿«é€Ÿå›æµ‹)
        â”œâ”€â”€ LiveTrader (å®ç›˜äº¤æ˜“)
        â””â”€â”€ Benchmark (åŸºå‡†å¯¹æ¯”)
```

## ğŸ”— ä¾èµ–å…³ç³»

```
quant-integration
    â”œâ”€â”€ ä¾èµ–: quant-data-system (æ•°æ®)
    â”œâ”€â”€ ä¾èµ–: dounai-investment-system (ä¿¡å·)
    â””â”€â”€ å¤–éƒ¨: qteasy ( pip install )
```

## ğŸ“ˆ æœªæ¥æ‰©å±•

- [ ] æ·»åŠ æ›´å¤šåˆ¸å•†æ¥å£ï¼ˆé€šè¾¾ä¿¡ã€é›ªçƒç­‰ï¼‰
- [ ] å®ç°è‡ªåŠ¨è·Ÿå•åŠŸèƒ½
- [ ] æ·»åŠ æœŸæƒ/æœŸè´§æ”¯æŒ
- [ ] é›†æˆæ›´å¤šç»å…¸ç­–ç•¥

---

*Skillç‰ˆæœ¬: v1.0*  
*åˆ›å»ºæ—¶é—´: 2026-03-02*  
*æ ¸å¿ƒå®šä½: å¼¥è¡¥å®ç›˜äº¤æ˜“çŸ­æ¿ï¼ŒåŠ é€Ÿç­–ç•¥éªŒè¯*
