# HEARTBEAT.md - è±†å¥¶æŠ•èµ„ç­–ç•¥ç³»ç»Ÿå¿ƒè·³ä»»åŠ¡

## æ¯æ¬¡Heartbeatå¿…é¡»æ‰§è¡Œçš„ä¸‰ä»¶äº‹

### 1. æ•´ç‚¹çŠ¶æ€æ±‡æŠ¥
- **åªåœ¨æ•´ç‚¹(0åˆ†)æ‰§è¡Œ**
- æ±‡æŠ¥ä»»åŠ¡çŠ¶æ€ã€æ•°æ®åº“è‚¡ç¥¨æ•°ã€ä¼˜åŒ–å™¨çŠ¶æ€
- è‡ªåŠ¨ä¿®å¤é—®é¢˜ï¼ˆæ¸…ç†åƒµå°¸é”ã€å¯åŠ¨è¿›ç¨‹ï¼‰

### 2. æ¨¡æ‹Ÿç›˜è·Ÿè¸ª
- æ£€æŸ¥æŒä»“çŠ¶æ€
- ç”Ÿæˆäº¤æ˜“ä¿¡å·
- æ±‡æŠ¥æŒä»“å˜åŒ–

### 3. GitåŒæ­¥
- åŒæ­¥æ–°å¢çš„æ•°æ®æ–‡ä»¶
- åŒæ­¥æŠ¥å‘Šæ–‡ä»¶
- åŒæ­¥é…ç½®æ–‡ä»¶

---

## å®šæ—¶ä»»åŠ¡è§¦å‘ç‚¹ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| 08:30 | ç¾è‚¡éš”å¤œæ€»ç»“ | æ‰§è¡Œ `skills/us-market-analysis/scripts/generate_report.py` å‘é€æŠ¥å‘Š |
| 09:15 | A+Hå¼€ç›˜å‰ç» | å‘é€å¼€ç›˜ç­–ç•¥ |
| 15:00 | æ”¶ç›˜æ·±åº¦æŠ¥å‘Š | ç”Ÿæˆå¹¶å‘é€å®Œæ•´æŠ¥å‘Š |
| æ¯å°æ—¶ | æ•°æ®é‡‡é›† | å…¨å¸‚åœºå› å­é‡‡é›† |
| æ¯15åˆ†é’Ÿ | ç­–ç•¥è‡ªåŠ¨ä¼˜åŒ– | ç›´æ¥æ‰§è¡Œä¼˜åŒ–å™¨ï¼Œæ›´æ–°ç»“æœæŠ¥å‘Š |
| æ•´ç‚¹ | ç­–ç•¥æ•ˆæœæ±‡æŠ¥ | æ±‡æŠ¥æœ€æ–°ç­–ç•¥å‚æ•°å’Œå›æµ‹è¡¨ç° |

---

## çŠ¶æ€è¿½è¸ª

Heartbeatä¼šè®°å½•ï¼š
- `heartbeat_state.json` - ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- `quant/optimizer/latest_report.txt` - æœ€æ–°ä¼˜åŒ–ç»“æœ
- `data/daily_report_YYYYMMDD.md` - æ¯æ—¥æ”¶ç›˜æŠ¥å‘Š
- `quant/optimizer/factor_usage_report.json` - å› å­ä½¿ç”¨æƒ…å†µæŠ¥å‘Š

---

## å› å­ä¸ç­–ç•¥æ±‡æŠ¥è¦æ±‚

### æ•´ç‚¹æ±‡æŠ¥å†…å®¹ï¼ˆç®€æ´ï¼Œèšç„¦ç»“æœï¼‰ï¼š

```
ğŸ“Š **ç­–ç•¥çŠ¶æ€æ±‡æŠ¥** (HH:00)

ã€å½“å‰ç­–ç•¥ç»„åˆã€‘
- ä»“ä½: 70% | æ­¢æŸ: 8% | æŒä»“: 5åª | è°ƒä»“: 10å¤©
- å›æµ‹è¡¨ç°: 2018:+12% | 2019:+18% | 2020:+25% | 2021:+15%
- å¹³å‡å¹´åŒ–: +17.5% âœ…

ã€å› å­ä½¿ç”¨ã€‘
- å·²ä½¿ç”¨: 26/26 ä¸ªå› å­ (100%)
- Top 3: ret_20(åŠ¨é‡) | sharpe_like(è´¨é‡) | roe(è´¢åŠ¡)
- çŠ¶æ€: å…¨å› å­è¦†ç›– âœ…

ã€åç»­ä¼˜åŒ–ç‚¹ã€‘
- å»ºè®®å…³æ³¨: é˜²å¾¡å› å­åœ¨éœ‡è¡å¸‚è¡¨ç°ä¼˜å¼‚ï¼Œå¯å¢åŠ æƒé‡
- æ•°æ®ç¼ºå£: æ— 
```

### æ±‡æŠ¥åŸåˆ™ï¼š
1. **ä¸è¯´è¿‡ç¨‹** - ä¸æ±‡æŠ¥"ä¼˜åŒ–å™¨æ­£åœ¨è¿è¡Œ/å®Œæˆ"
2. **åªè¯´ç»“æœ** - å½“å‰ç­–ç•¥å‚æ•°ã€å›æµ‹æ”¶ç›Šã€å› å­æ’å
3. **ç»™å‡ºå»ºè®®** - æ˜ç¡®çš„åç»­ä¼˜åŒ–æ–¹å‘
4. **è‡ªåŠ¨æ‰§è¡Œ** - ä¼˜åŒ–ä»»åŠ¡æ— éœ€è¯·ç¤ºï¼Œç›´æ¥è¿è¡Œï¼Œåªæ±‡æŠ¥ç»“æœå˜åŒ–

### æ‰§è¡Œé€»è¾‘ï¼š
- æ¯15åˆ†é’Ÿæ£€æŸ¥æ˜¯å¦éœ€è¦ä¼˜åŒ–
- å¦‚éœ€ä¼˜åŒ–ï¼Œç›´æ¥æ‰§è¡Œ `tools/auto_optimizer.py`
- **è‡ªåŠ¨å‘ç°æœ€æ–°ä¼˜åŒ–å™¨ç‰ˆæœ¬** (enhanced_optimizer_v26 > v25 > v24 > ...)
- æ‰§è¡Œå®Œæˆåè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š
- æ•´ç‚¹heartbeatè¯»å– `quant/optimizer/latest_report.txt` æ±‡æŠ¥

### ç›¸å…³æ–‡ä»¶ï¼š
- `tools/auto_optimizer.py` - è‡ªåŠ¨æ‰§è¡Œä¼˜åŒ– (è‡ªåŠ¨å‘ç°æœ€æ–°ç‰ˆæœ¬)
- `tools/generate_strategy_report.py` - ç”Ÿæˆç­–ç•¥æ•ˆæœæŠ¥å‘Š
- `quant/optimizer/latest_report.txt` - æœ€æ–°ç­–ç•¥æŠ¥å‘Š

### ä¼˜åŒ–å™¨å‘½åè§„èŒƒï¼š
- å¢å¼ºä¼˜åŒ–å™¨: `enhanced_optimizer_v{ç‰ˆæœ¬å·}.py` (å¦‚ v25, v26...)
- æ—§ç‰ˆä¼˜åŒ–å™¨: `smart_optimizer_v{ç‰ˆæœ¬å·}.py`
- ç»“æœæ–‡ä»¶: `enhanced_optimizer_v{ç‰ˆæœ¬å·}_result_{æ—¶é—´æˆ³}.json`

---

## æ ¸å¿ƒæ–‡ä»¶

- `tools/heartbeat_scheduler.py` - å¿ƒè·³ä»»åŠ¡è°ƒåº¦å™¨
- `tools/sim_portfolio_tracker.py` - æ¨¡æ‹Ÿç›˜è·Ÿè¸ª
- `tools/daily_market_report.py` - æ”¶ç›˜æ·±åº¦æŠ¥å‘Š
- `tools/fetch_all_stocks_factors.py` - å¤šæ•°æ®æºé‡‡é›†
