# HEARTBEAT.md - è±†å¥¶æŠ•èµ„ç­–ç•¥ç³»ç»Ÿå¿ƒè·³ä»»åŠ¡

## æ¯æ¬¡Heartbeatå¿…é¡»æ‰§è¡Œçš„ä¸‰ä»¶äº‹

### 1. æ•´ç‚¹çŠ¶æ€æ±‡æŠ¥
- **åªåœ¨æ•´ç‚¹(0åˆ†)æ‰§è¡Œ**
- æ±‡æŠ¥ä»»åŠ¡çŠ¶æ€ã€æ•°æ®åº“è‚¡ç¥¨æ•°(åˆ†å¹´åº¦)ã€ç­–ç•¥çŠ¶æ€(æ–‡ä»¶ååŠéƒ¨åˆ†æœ‰å‚è€ƒæ ·å¼)
- è‡ªåŠ¨ä¿®å¤é—®é¢˜

### 2. æ¨¡æ‹Ÿç›˜è·Ÿè¸ª
- æ£€æŸ¥æŒä»“çŠ¶æ€
- ç”Ÿæˆäº¤æ˜“ä¿¡å·
- æ±‡æŠ¥æŒä»“å˜åŒ–

### 3. GitåŒæ­¥
- åŒæ­¥æ–°å¢çš„æ•°æ®æ–‡ä»¶
- åŒæ­¥æŠ¥å‘Šæ–‡ä»¶
- åŒæ­¥é…ç½®æ–‡ä»¶

---

## å®šæ—¶ä»»åŠ¡è§¦å‘ç‚¹ï¼ˆè‡ªç„¶è¯­è¨€ï¼‰

| æ—¶é—´ | ä»»åŠ¡ | è¯´æ˜ |
|------|------|------|
| 08:30 | ç¾è‚¡éš”å¤œæ€»ç»“ | æ‰§è¡Œ `skills/us-market-analysis/scripts/generate_report.py` å‘é€æŠ¥å‘Š |
| 09:15 | A+Hå¼€ç›˜å‰ç» | å‘é€å¼€ç›˜ç­–ç•¥ |
| 15:00 | æ”¶ç›˜æ·±åº¦æŠ¥å‘Š | ç”Ÿæˆå¹¶å‘é€å®Œæ•´æŠ¥å‘Š |
| æ¯å°æ—¶ | æ•°æ®é‡‡é›† | å…¨å¸‚åœºå› å­é‡‡é›† |
| æ¯2å°æ—¶ | çŸ¥è¯†æ˜Ÿçƒä¿¡æ¯ | è·å–è°ƒç ”çºªè¦æœ€æ–°å†…å®¹ |
| æ¯15åˆ†é’Ÿ | ç­–ç•¥è‡ªåŠ¨ä¼˜åŒ– | ç›´æ¥æ‰§è¡Œä¼˜åŒ–å™¨ï¼Œæ›´æ–°ç»“æœæŠ¥å‘Š |
| æ•´ç‚¹ | ç­–ç•¥æ•ˆæœæ±‡æŠ¥ | æ±‡æŠ¥æœ€æ–°ç­–ç•¥å‚æ•°å’Œå›æµ‹è¡¨ç° |

---

## çŠ¶æ€è¿½è¸ª

Heartbeatä¼šè®°å½•ï¼š
- `heartbeat_state.json` - ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€
- `quant/optimizer/latest_report.txt` - æœ€æ–°ä¼˜åŒ–ç»“æœ
- `data/daily_report_YYYYMMDD.md` - æ¯æ—¥æ”¶ç›˜æŠ¥å‘Š
- `quant/optimizer/factor_usage_report.json` - å› å­ä½¿ç”¨æƒ…å†µæŠ¥å‘Š

---

## å› å­ä¸ç­–ç•¥æ±‡æŠ¥è¦æ±‚

### æ•´ç‚¹æ±‡æŠ¥å†…å®¹ï¼ˆç®€æ´ï¼Œèšç„¦ç»“æœï¼‰ï¼š

```
ğŸ“Š **ç­–ç•¥çŠ¶æ€æ±‡æŠ¥** (HH:00)

ã€å½“å‰ç­–ç•¥ç»„åˆã€‘
- ä»“ä½: 70% | æ­¢æŸ: 8% | æŒä»“: 5åª | è°ƒä»“: 10å¤©
- å›æµ‹è¡¨ç°: 2018:+12% | 2019:+18% | 2020:+25% | 2021:+15%
- å¹³å‡å¹´åŒ–: +17.5% âœ…

ã€å› å­ä½¿ç”¨æƒ…å†µã€‘
- å·²é‡‡ç”¨: 8/26 ä¸ªå› å­ (31%)
- æœªé‡‡ç”¨: 18/26 ä¸ªå› å­ (69%)
- Top 3: price_pos_high | sharpe_like | vol_20
- æ•°æ®è¦†ç›–: æŠ€æœ¯5177/é˜²å¾¡5166/è´¢åŠ¡3772 âœ…

ã€åç»­ä¼˜åŒ–ç‚¹ã€‘
- æœ‰18ä¸ªå› å­æœªé‡‡ç”¨ï¼Œå»ºè®®é€æ­¥å¼•å…¥æµ‹è¯•æ•ˆæœ
- å»ºè®®ä¼˜å…ˆå°è¯•: roe, revenue_growth, netprofit_growth
- æŒç»­è¿è¡Œä¼˜åŒ–å™¨ï¼Œæ¯15åˆ†é’Ÿè¿­ä»£å¯»æ‰¾æ›´ä¼˜ç»„åˆ
```

### æ±‡æŠ¥åŸåˆ™ï¼š
1. **ä¸è¯´è¿‡ç¨‹** - ä¸æ±‡æŠ¥"ä¼˜åŒ–å™¨æ­£åœ¨è¿è¡Œ/å®Œæˆ"
2. **åªè¯´ç»“æœ** - å½“å‰ç­–ç•¥å‚æ•°ã€å›æµ‹æ”¶ç›Šã€å› å­é‡‡ç”¨/æœªé‡‡ç”¨æ•°é‡
3. **ç»™å‡ºå»ºè®®** - æ˜ç¡®çš„åç»­ä¼˜åŒ–æ–¹å‘ï¼ˆå…·ä½“æœªé‡‡ç”¨å› å­ï¼‰
4. **è‡ªåŠ¨æ‰§è¡Œ** - ä¼˜åŒ–ä»»åŠ¡æ— éœ€è¯·ç¤ºï¼ŒæŒç»­è¿è¡Œï¼Œåªæ±‡æŠ¥ç»“æœå˜åŒ–

### æ‰§è¡Œé€»è¾‘ï¼š
- **æ¯15åˆ†é’Ÿæ£€æŸ¥** - è‡ªåŠ¨æ£€æŸ¥ä¼˜åŒ–å™¨çŠ¶æ€
- **æŒç»­è¿è¡Œ** - å¦‚æœªè¿è¡Œåˆ™è‡ªåŠ¨å¯åŠ¨æœ€æ–°ä¼˜åŒ–å™¨ï¼ŒæŒç»­å¯»æ‰¾æœ€ä½³ç»„åˆ
- **æ¯4å°æ—¶è¿­ä»£** - è¶…è¿‡4å°æ—¶è‡ªåŠ¨é‡æ–°ä¼˜åŒ–ï¼Œæ¢ç´¢æ–°ç»„åˆ
- **è‡ªåŠ¨å‘ç°æœ€æ–°ç‰ˆæœ¬** - enhanced_optimizer_v26 > v25 > v24 > ...
- **æ•´ç‚¹æ±‡æŠ¥** - è¯»å–æœ€æ–°ç»“æœï¼Œæ±‡æŠ¥ç­–ç•¥çŠ¶æ€

### è§¦å‘æ¡ä»¶ï¼š
- æ¯15åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡ä¼˜åŒ–å™¨çŠ¶æ€
- æ— ä¼˜åŒ–å™¨è¿è¡Œæ—¶è‡ªåŠ¨å¯åŠ¨
- ä¸Šæ¬¡ä¼˜åŒ–è¶…è¿‡4å°æ—¶è‡ªåŠ¨é‡æ–°è¿è¡Œ
- æ— éœ€è¯·ç¤ºï¼Œå…¨è‡ªåŠ¨æ‰§è¡Œ

### ç›¸å…³æ–‡ä»¶ï¼š
- `tools/auto_optimizer.py` - è‡ªåŠ¨æ‰§è¡Œä¼˜åŒ– (è‡ªåŠ¨å‘ç°æœ€æ–°ç‰ˆæœ¬)
- `tools/generate_strategy_report.py` - ç”Ÿæˆç­–ç•¥æ•ˆæœæŠ¥å‘Š
- `quant/optimizer/latest_report.txt` - æœ€æ–°ç­–ç•¥æŠ¥å‘Š

### ä¼˜åŒ–å™¨å‘½åè§„èŒƒï¼š
- å¢å¼ºä¼˜åŒ–å™¨: `enhanced_optimizer_v{ç‰ˆæœ¬å·}.py` (å¦‚ v25, v26...)
- æ—§ç‰ˆä¼˜åŒ–å™¨: `smart_optimizer_v{ç‰ˆæœ¬å·}.py`
- ç»“æœæ–‡ä»¶: `enhanced_optimizer_v{ç‰ˆæœ¬å·}_result_{æ—¶é—´æˆ³}.json`

---

## æ ¸å¿ƒæ–‡ä»¶

- `tools/heartbeat_scheduler.py` - å¿ƒè·³ä»»åŠ¡è°ƒåº¦å™¨
- `tools/sim_portfolio_tracker.py` - æ¨¡æ‹Ÿç›˜è·Ÿè¸ª
- `tools/daily_market_report.py` - æ”¶ç›˜æ·±åº¦æŠ¥å‘Š
- `tools/fetch_all_stocks_factors.py` - å¤šæ•°æ®æºé‡‡é›†
