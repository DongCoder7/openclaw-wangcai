{
  "best_params": {
    "p": 0.5,
    "s": 0.15,
    "n_stock": 8
  },
  "best_return": 5.79,
  "max_drawdown": 31.93,
  "full_result": {
    "avg_return_pct": 5.79,
    "max_drawdown_pct": 31.93,
    "yearly_results": [
      {
        "year": "2018",
        "return_pct": -31.93,
        "initial_capital": 1000000,
        "final_value": 680707.44,
        "trades_count": 89,
        "trades": [
          {
            "date": "20181101",
            "action": "BUY",
            "stock": "600311.SH",
            "shares": 4986,
            "price": 3.76,
            "value": 18747.36,
            "ret20": 31.01
          },
          {
            "date": "20181101",
            "action": "BUY",
            "stock": "603505.SH",
            "shares": 5914,
            "price": 3.17,
            "value": 18747.38,
            "ret20": 30.99
          },
          {
            "date": "20181101",
            "action": "BUY",
            "stock": "300538.SZ",
            "shares": 1509,
            "price": 12.42,
            "value": 18741.78,
            "ret20": 29.11
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "300703.SZ",
            "shares": 2217,
            "price": 8.77,
            "value": 19443.09,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "300701.SZ",
            "shares": 1384,
            "price": 9.1,
            "value": 12594.4,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "600720.SH",
            "shares": 6421,
            "price": 4.27,
            "value": 27417.67,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "603444.SH",
            "shares": 999,
            "price": 45.77,
            "value": 45724.23,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "002755.SZ",
            "shares": 2537,
            "price": 14.41,
            "value": 36558.17,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "600603.SH",
            "shares": 9305,
            "price": 3.49,
            "value": 32474.45,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "300394.SZ",
            "shares": 3997,
            "price": 4.64,
            "value": 18546.08,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "603718.SH",
            "shares": 1619,
            "price": 13.62,
            "value": 22050.78,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "600311.SH",
            "shares": 4986,
            "price": 4.01,
            "value": 19993.86,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "SELL",
            "stock": "603505.SH",
            "shares": 5914,
            "price": 3.17,
            "value": 18747.38,
            "reason": "rebalance"
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "600604.SH",
            "shares": 4652,
            "price": 8.06,
            "value": 37495.12,
            "ret20": 134.99
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "603519.SH",
            "shares": 14534,
            "price": 2.58,
            "value": 37497.72,
            "ret20": 124.35
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "002708.SZ",
            "shares": 3814,
            "price": 9.83,
            "value": 37491.62,
            "ret20": 94.65
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "600783.SH",
            "shares": 2224,
            "price": 16.86,
            "value": 37496.64,
            "ret20": 94.02
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "002288.SZ",
            "shares": 6602,
            "price": 5.68,
            "value": 37499.36,
            "ret20": 93.2
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "300181.SZ",
            "shares": 9398,
            "price": 3.99,
            "value": 37498.02,
            "ret20": 85.58
          },
          {
            "date": "20181203",
            "action": "BUY",
            "stock": "002367.SZ",
            "shares": 11398,
            "price": 3.29,
            "value": 37499.42,
            "ret20": 78.8
          }
        ],
        "equity_curve": [
          {
            "date": "20180102",
            "equity": 1000000,
            "env": "neutral"
          },
          {
            "date": "20180201",
            "equity": 1000000,
            "env": "bear"
          },
          {
            "date": "20180301",
            "equity": 1000000,
            "env": "bear"
          },
          {
            "date": "20180402",
            "equity": 1000000,
            "env": "neutral"
          },
          {
            "date": "20180502",
            "equity": 1000000.0,
            "env": "neutral"
          },
          {
            "date": "20180601",
            "equity": 892045.0299999998,
            "env": "neutral"
          },
          {
            "date": "20180702",
            "equity": 671204.0499999998,
            "env": "bear"
          },
          {
            "date": "20180801",
            "equity": 591521.1199999998,
            "env": "neutral"
          },
          {
            "date": "20180903",
            "equity": 370273.1199999999,
            "env": "neutral"
          },
          {
            "date": "20181008",
            "equity": 289600.1999999998,
            "env": "neutral"
          },
          {
            "date": "20181101",
            "equity": 170113.65999999986,
            "env": "bear"
          },
          {
            "date": "20181203",
            "equity": 273696.4199999998,
            "env": "neutral"
          }
        ]
      },
      {
        "year": "2019",
        "return_pct": 14.89,
        "initial_capital": 1000000,
        "final_value": 1148943.5,
        "trades_count": 147,
        "trades": [
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "600223.SH",
            "shares": 7267,
            "price": 5.16,
            "value": 37497.72,
            "ret20": 87.64
          },
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "000676.SZ",
            "shares": 3437,
            "price": 10.91,
            "value": 37497.67,
            "ret20": 81.53
          },
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "002351.SZ",
            "shares": 5822,
            "price": 6.44,
            "value": 37493.68,
            "ret20": 75.0
          },
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "002100.SZ",
            "shares": 3096,
            "price": 12.11,
            "value": 37492.56,
            "ret20": 70.32
          },
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "300089.SZ",
            "shares": 6855,
            "price": 5.47,
            "value": 37496.85,
            "ret20": 66.77
          },
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "603022.SH",
            "shares": 2882,
            "price": 13.01,
            "value": 37494.82,
            "ret20": 65.94
          },
          {
            "date": "20191101",
            "action": "BUY",
            "stock": "600208.SH",
            "shares": 8187,
            "price": 4.58,
            "value": 37496.46,
            "ret20": 62.41
          },
          {
            "date": "20191202",
            "action": "SELL",
            "stock": "300390.SZ",
            "shares": 145348,
            "price": 0.52,
            "value": 75580.96,
            "reason": "rebalance"
          },
          {
            "date": "20191202",
            "action": "SELL",
            "stock": "002356.SZ",
            "shares": 3965,
            "price": 2.0,
            "value": 7930.0,
            "reason": "rebalance"
          },
          {
            "date": "20191202",
            "action": "SELL",
            "stock": "300379.SZ",
            "shares": 1667,
            "price": 23.68,
            "value": 39474.56,
            "reason": "rebalance"
          },
          {
            "date": "20191202",
            "action": "SELL",
            "stock": "603129.SH",
            "shares": 1636,
            "price": 26.1,
            "value": 42699.6,
            "reason": "rebalance"
          },
          {
            "date": "20191202",
            "action": "SELL",
            "stock": "300598.SZ",
            "shares": 1355,
            "price": 41.31,
            "value": 55975.05,
            "reason": "rebalance"
          },
          {
            "date": "20191202",
            "action": "SELL",
            "stock": "002351.SZ",
            "shares": 5822,
            "price": 9.44,
            "value": 54959.68,
            "reason": "rebalance"
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "300341.SZ",
            "shares": 2577,
            "price": 14.55,
            "value": 37495.35,
            "ret20": 129.13
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "002761.SZ",
            "shares": 3488,
            "price": 10.75,
            "value": 37496.0,
            "ret20": 56.02
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "002629.SZ",
            "shares": 17201,
            "price": 2.18,
            "value": 37498.18,
            "ret20": 55.71
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "002043.SZ",
            "shares": 9493,
            "price": 3.95,
            "value": 37497.35,
            "ret20": 49.06
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "600462.SH",
            "shares": 23006,
            "price": 1.63,
            "value": 37499.78,
            "ret20": 46.85
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "000673.SZ",
            "shares": 7545,
            "price": 4.97,
            "value": 37498.65,
            "ret20": 42.0
          },
          {
            "date": "20191202",
            "action": "BUY",
            "stock": "603229.SH",
            "shares": 9541,
            "price": 3.93,
            "value": 37496.13,
            "ret20": 39.86
          }
        ],
        "equity_curve": [
          {
            "date": "20190102",
            "equity": 1000000.0,
            "env": "bear"
          },
          {
            "date": "20190201",
            "equity": 894247.0000000002,
            "env": "neutral"
          },
          {
            "date": "20190301",
            "equity": 1115231.12,
            "env": "bull"
          },
          {
            "date": "20190401",
            "equity": 1253346.4500000002,
            "env": "bull"
          },
          {
            "date": "20190506",
            "equity": 691483.7800000003,
            "env": "bear"
          },
          {
            "date": "20190603",
            "equity": 705432.8900000001,
            "env": "neutral"
          },
          {
            "date": "20190701",
            "equity": 557475.9400000002,
            "env": "neutral"
          },
          {
            "date": "20190801",
            "equity": 416559.3400000002,
            "env": "bear"
          },
          {
            "date": "20190902",
            "equity": 638527.6800000002,
            "env": "neutral"
          },
          {
            "date": "20191008",
            "equity": 550605.2200000002,
            "env": "neutral"
          },
          {
            "date": "20191101",
            "equity": 334260.9200000002,
            "env": "neutral"
          },
          {
            "date": "20191202",
            "equity": 351718.52000000014,
            "env": "neutral"
          }
        ]
      },
      {
        "year": "2020",
        "return_pct": 9.72,
        "initial_capital": 1000000,
        "final_value": 1097175.33,
        "trades_count": 158,
        "trades": [
          {
            "date": "20201102",
            "action": "BUY",
            "stock": "300549.SZ",
            "shares": 1378,
            "price": 27.21,
            "value": 37495.38,
            "ret20": 118.91
          },
          {
            "date": "20201102",
            "action": "BUY",
            "stock": "603919.SH",
            "shares": 1207,
            "price": 31.05,
            "value": 37477.35,
            "ret20": 94.67
          },
          {
            "date": "20201102",
            "action": "BUY",
            "stock": "300781.SZ",
            "shares": 1273,
            "price": 29.45,
            "value": 37489.85,
            "ret20": 86.75
          },
          {
            "date": "20201102",
            "action": "BUY",
            "stock": "300720.SZ",
            "shares": 2323,
            "price": 16.14,
            "value": 37493.22,
            "ret20": 85.73
          },
          {
            "date": "20201102",
            "action": "BUY",
            "stock": "600702.SH",
            "shares": 894,
            "price": 41.93,
            "value": 37485.42,
            "ret20": 84.06
          },
          {
            "date": "20201102",
            "action": "BUY",
            "stock": "601865.SH",
            "shares": 867,
            "price": 43.24,
            "value": 37489.08,
            "ret20": 82.6
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "600268.SH",
            "shares": 5498,
            "price": 4.74,
            "value": 26060.52,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "002046.SZ",
            "shares": 3324,
            "price": 8.11,
            "value": 26957.64,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "601666.SH",
            "shares": 14150,
            "price": 2.28,
            "value": 32262.0,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "300581.SZ",
            "shares": 1907,
            "price": 16.03,
            "value": 30569.21,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "300708.SZ",
            "shares": 1770,
            "price": 12.79,
            "value": 22638.3,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "603919.SH",
            "shares": 1207,
            "price": 38.35,
            "value": 46288.45,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "SELL",
            "stock": "600702.SH",
            "shares": 894,
            "price": 51.55,
            "value": 46085.7,
            "reason": "rebalance"
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "601699.SH",
            "shares": 43604,
            "price": 0.86,
            "value": 37499.44,
            "ret20": 760.0
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "000933.SZ",
            "shares": 7115,
            "price": 5.27,
            "value": 37496.05,
            "ret20": 149.76
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "002756.SZ",
            "shares": 2665,
            "price": 14.07,
            "value": 37496.55,
            "ret20": 137.67
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "601127.SH",
            "shares": 2359,
            "price": 15.89,
            "value": 37484.51,
            "ret20": 120.39
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "300727.SZ",
            "shares": 1186,
            "price": 31.6,
            "value": 37477.6,
            "ret20": 86.1
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "600121.SH",
            "shares": 10714,
            "price": 3.5,
            "value": 37499.0,
            "ret20": 76.77
          },
          {
            "date": "20201201",
            "action": "BUY",
            "stock": "000807.SZ",
            "shares": 4752,
            "price": 7.89,
            "value": 37493.28,
            "ret20": 67.87
          }
        ],
        "equity_curve": [
          {
            "date": "20200102",
            "equity": 1000000.0,
            "env": "bull"
          },
          {
            "date": "20200203",
            "equity": 683398.5399999999,
            "env": "bear"
          },
          {
            "date": "20200302",
            "equity": 634801.2199999999,
            "env": "bull"
          },
          {
            "date": "20200401",
            "equity": 228362.24999999983,
            "env": "bear"
          },
          {
            "date": "20200506",
            "equity": 595810.7199999999,
            "env": "neutral"
          },
          {
            "date": "20200601",
            "equity": 549375.84,
            "env": "neutral"
          },
          {
            "date": "20200701",
            "equity": 802392.6599999999,
            "env": "neutral"
          },
          {
            "date": "20200803",
            "equity": 941495.94,
            "env": "bull"
          },
          {
            "date": "20200901",
            "equity": 633950.9100000001,
            "env": "neutral"
          },
          {
            "date": "20201009",
            "equity": 474603.52000000014,
            "env": "bear"
          },
          {
            "date": "20201102",
            "equity": 577269.6700000004,
            "env": "neutral"
          },
          {
            "date": "20201201",
            "equity": 584725.4200000005,
            "env": "neutral"
          }
        ]
      },
      {
        "year": "2021",
        "return_pct": 30.46,
        "initial_capital": 1000000,
        "final_value": 1304555.11,
        "trades_count": 161,
        "trades": [
          {
            "date": "20211101",
            "action": "BUY",
            "stock": "600382.SH",
            "shares": 11980,
            "price": 3.13,
            "value": 37497.4,
            "ret20": 74.86
          },
          {
            "date": "20211101",
            "action": "BUY",
            "stock": "605286.SH",
            "shares": 1246,
            "price": 30.09,
            "value": 37492.14,
            "ret20": 71.16
          },
          {
            "date": "20211101",
            "action": "BUY",
            "stock": "002805.SZ",
            "shares": 1288,
            "price": 29.1,
            "value": 37480.8,
            "ret20": 68.7
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "603020.SH",
            "shares": 1842,
            "price": 14.21,
            "value": 26174.82,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "300339.SZ",
            "shares": 1018,
            "price": 28.55,
            "value": 29063.9,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "002487.SZ",
            "shares": 1641,
            "price": 48.58,
            "value": 79719.78,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "600863.SH",
            "shares": 10217,
            "price": 3.04,
            "value": 31059.68,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "600071.SH",
            "shares": 946,
            "price": 51.5,
            "value": 48719.0,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "002922.SZ",
            "shares": 1351,
            "price": 26.76,
            "value": 36152.76,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "600382.SH",
            "shares": 11980,
            "price": 3.92,
            "value": 46961.6,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "605286.SH",
            "shares": 1246,
            "price": 39.08,
            "value": 48693.68,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "SELL",
            "stock": "002805.SZ",
            "shares": 1288,
            "price": 32.54,
            "value": 41911.52,
            "reason": "rebalance"
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "002432.SZ",
            "shares": 3629,
            "price": 17.22,
            "value": 62491.38,
            "ret20": 570.04
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "688533.SH",
            "shares": 1412,
            "price": 44.24,
            "value": 62466.88,
            "ret20": 146.74
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "603917.SH",
            "shares": 2472,
            "price": 25.28,
            "value": 62492.16,
            "ret20": 137.15
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "002885.SZ",
            "shares": 2706,
            "price": 23.09,
            "value": 62481.54,
            "ret20": 118.04
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "300745.SZ",
            "shares": 776,
            "price": 80.5,
            "value": 62468.0,
            "ret20": 102.77
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "605133.SH",
            "shares": 2392,
            "price": 26.12,
            "value": 62479.04,
            "ret20": 101.54
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "300264.SZ",
            "shares": 5765,
            "price": 10.84,
            "value": 62492.6,
            "ret20": 100.0
          },
          {
            "date": "20211201",
            "action": "BUY",
            "stock": "688022.SH",
            "shares": 1536,
            "price": 40.67,
            "value": 62469.12,
            "ret20": 99.56
          }
        ],
        "equity_curve": [
          {
            "date": "20210104",
            "equity": 999999.9999999999,
            "env": "bear"
          },
          {
            "date": "20210201",
            "equity": 868775.5399999999,
            "env": "bear"
          },
          {
            "date": "20210301",
            "equity": 781525.26,
            "env": "neutral"
          },
          {
            "date": "20210401",
            "equity": 567022.2,
            "env": "neutral"
          },
          {
            "date": "20210506",
            "equity": 720631.27,
            "env": "neutral"
          },
          {
            "date": "20210601",
            "equity": 1090121.1300000001,
            "env": "neutral"
          },
          {
            "date": "20210701",
            "equity": 1036578.8200000003,
            "env": "neutral"
          },
          {
            "date": "20210802",
            "equity": 914397.7800000001,
            "env": "neutral"
          },
          {
            "date": "20210901",
            "equity": 774317.2000000001,
            "env": "neutral"
          },
          {
            "date": "20211008",
            "equity": 803499.1800000002,
            "env": "neutral"
          },
          {
            "date": "20211101",
            "equity": 848370.7499999999,
            "env": "neutral"
          },
          {
            "date": "20211201",
            "equity": 910279.44,
            "env": "bull"
          }
        ]
      }
    ],
    "total_trades": 555
  }
}